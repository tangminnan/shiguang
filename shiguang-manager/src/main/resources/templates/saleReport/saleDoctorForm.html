<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>医生业绩统计表</title>
<style type="text/css">
	*{padding: 0;margin: 0;box-sizing: border-box;font-size: 14px;}
	.fl{float: left;}
	.fr{float: right;}
	.container {margin:50px auto;width: 1500px;}
	h3{font-size: 20px;text-align: center;letter-spacing: 1px;margin-bottom:15px;}
	table{width: 100%;border-left:1px solid #000;border-top:1px solid #000;text-align: center;color:#333;}
	table td{border-right:1px solid #000;border-bottom:1px solid #000;padding:6px 2px;}
	.thead{background: #dcdcdc;font-weight: bold;color:#000;}
	/*table tr td:nth-child(1),*/
	/*table tr td:nth-child(3),*/
	table tr td:nth-child(4),table tr td:nth-child(6){color:#ff0000;}
	table tr td:nth-child(5),table tr td:nth-child(7){color:#2063fd;}

	/*table tr td:nth-child(6),*/
	/*table tr td:nth-child(7),*/
	/*table tr td:nth-child(8),*/
	/*table tr td:nth-child(13){color:#2063fd;}*/
	.tfoot{background: #fecccc;font-weight: bold;}
	.tfoot td{color: #fd0c0c !important;}

</style>

</head>
<body>
	<div class="container">
		<h3>医生业绩统计表</h3>
		<input type="hidden" id="settleDateStart" th:value="${settleDateStart}">
		<input type="hidden" id="settleDateEnd" th:value="${settleDateEnd}">
		<input type="hidden" id="newOld" th:value="${newOld}">
		<table border="0" cellspacing="0" cellpadding="0" id="reportId">
			<tbody id="detailId">
			<tr class="thead">
				<td>门店</td>
				<td>工号</td>
				<td>姓名</td>
				<td>处方成交数量</td>
				<td>处方数量</td>
				<td>验光成交金额</td>
				<td>销售金额</td>
				<td>镜架</td>
				<td>配件</td>
				<td>成品镜片</td>
				<td>订做镜片</td>
				<td>成品隐形</td>
				<td>订做隐形</td>
				<td>护理液</td>
				<td>太阳镜</td>
				<td>老花镜</td>
				<td>耗材</td>
				<td>视光</td>
			</tr>
			</tbody>
		</table>
		<div>打印日期：<span th:text="${createTime}"></span></div>
	</div>
	<div th:include="include :: footer"></div>
	<script type="text/javascript" src="/js/appjs/saleReport/saleReportdy.js"></script>
	<script type="text/javascript"></script>
	<script th:inline="javascript">
        $().ready(function(){
            var list = [[${doctorPeoples}]];
            var listMoney = [[${listMoney}]];
            var html ="";
            var all1 = 0;
            var all2 = 0;
            var all3 = 0;
            var all4 = 0;
            var all5 = 0;
            var all6 = 0;
            var all7 = 0;
            var all8 = 0;
            var all9 = 0;
            var all10 = 0;
            var all11 = 0;
            var all12 = 0;
            var all13 = 0;
            var all14 = 0;
            var all15 = 0;

                for (var i=0;i<list.length;i++) {
                    html+="<tr>";
                    html+="<td>" + list[i].store + "</td>";
                    html += "<td class='username'>" + list[i].username + "</td>";
                    html += "<td>" + list[i].name + "</td>";
                    html += "<td>" + listMoney[i].usecount + "</td>";
                    html += "<td>" + listMoney[i].cfcount + "</td>";
                    html += "<td>" + listMoney[i].amountMoney + "</td>";
                    html += "<td>" + listMoney[i].primeMoney + "</td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportJj(this)'>" + listMoney[i].jjMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportPj(this)'>" + listMoney[i].pjMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportJp(this)'>" + listMoney[i].jpMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportJpdz(this)'>" + listMoney[i].jpdzMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportYx(this)'>" + listMoney[i].yxMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportYxdz(this)'>" + listMoney[i].yxdzMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportHly(this)'>" + listMoney[i].hlyMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportTyj(this)'>" + listMoney[i].tyjMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportLhj(this)'>" + listMoney[i].lhjMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportHc(this)'>" + listMoney[i].hcMoney + "</a></td>";
                    html += "<td class='cBlue'><a href='#' onclick='reportSg(this)'>" + listMoney[i].sgMoney + "</a></td>";
                    html += "</tr>";
                    all1+=listMoney[i].usecount;
                    all2+=listMoney[i].cfcount ;
                    all3+=listMoney[i].amountMoney ;
                    all4+=listMoney[i].primeMoney ;
                    all5+=listMoney[i].jjMoney ;
                    all6+=listMoney[i].pjMoney ;
                    all7+=listMoney[i].jpMoney ;
                    all8+=listMoney[i].jpdzMoney ;
                    all9+=listMoney[i].yxMoney ;
                    all10+=listMoney[i].yxdzMoney  ;
                    all11+=listMoney[i].hlyMoney  ;
                    all2+=listMoney[i].tyjMoney ;
                    all13+=listMoney[i].lhjMoney ;
                    all14+=listMoney[i].hcMoney ;
                    all15+=listMoney[i].sgMoney ;
                }
                html+="<tr  class='tfoot'>";
                html+="<td  colspan='3'>总合计：</td>";
                html+="<td>"+all1+"</td>";
                html+="<td>"+all2+"</td>";
                html+="<td>"+all3+"</td>";
                html+="<td>"+all4+"</td>";
                html+="<td>"+all5+"</td>";
                html+="<td>"+all6+"</td>";
                html+="<td>"+all7+"</td>";
                html+="<td>"+all8+"</td>";
                html+="<td>"+all9+"</td>";
                html+="<td>"+all10+"</td>";
                html+="<td>"+all11+"</td>";
                html+="<td>"+all12+"</td>";
                html+="<td>"+all13+"</td>";
                html+="<td>"+all14+"</td>";
                html+="<td>"+all15+"</td>";
                html+="</tr>";
            $("#detailId").append(html);

        });

        function reportJj(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="镜架";
            var selectGoods="镜架";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportPj(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="配件";
            var selectGoods="配件";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }

        function reportJp(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="镜片";
            var selectGoods="镜片成品";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportJpdz(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="镜片";
            var selectGoods="镜片订做";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportYx(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="隐形";
            var selectGoods="隐形成品";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportYxdz(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="隐形";
            var selectGoods="隐形订做";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportHly(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="护理液";
            var selectGoods="护理液";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportTyj(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="太阳镜";
            var selectGoods="太阳镜";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportLhj(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="老花镜";
            var selectGoods="老花镜";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportHc(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="耗材";
            var selectGoods="耗材";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
        function reportSg(e){
            var username=$(e).parent().prevAll().filter(".username").html();
            var settleDateStart=$("#settleDateStart").val();
            var settleDateEnd=$("#settleDateEnd").val();
            var newOld=$("#newOld").val();
            var storeDescribe="视光";
            var selectGoods="视光";
            window.open("/information/saleDoctor/Brand?username="+username+"&storeDescribe="+storeDescribe+
                "&settleDateStart="+settleDateStart+"&settleDateEnd="+settleDateEnd+"&selectGoods="+selectGoods+"&newOld="+newOld);
        }
	</script>
</body>
</html>
