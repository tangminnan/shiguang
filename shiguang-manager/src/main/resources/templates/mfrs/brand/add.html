<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head th:include="include :: header"></head>
<body class="gray-bg">
<div class="wrapper wrapper-content ">
    <div class="row">
        <div class="col-sm-12">
            <div class="ibox float-e-margins">
                <div class="ibox-content">
                    <form class="form-horizontal m-t" id="signupForm">
                        <div class="form-group">
                            <label class="col-sm-3 control-label">品牌代码：</label>
                            <div class="col-sm-8">
                                <input id="brandnum" name="brandnum" type="text" onchange="value=value.replace(/[^\w\/]/ig,'').toUpperCase()">
                                <span style="color: red">*品牌代码不能超过2位</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">品牌名称：</label>
                            <div class="col-sm-8">
                                <input id="brandname" name="brandname" type="text">
                                <span style="color: red">*</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">制造商简称：</label>
                            <div class="col-sm-8">
                                <td><input type="text" id="mfrsName" name="mfrsName"/></td>
                                <input type="hidden" id="mfrsid" name="mfrsid"/>
                                <input id="goodsids" name="goodsids" value="0"
                                       type="hidden"/>
                                <input type="button" value="选择*" onclick="getZhizaoshang()" style="color: red"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">商品类别：</label>
                            <div class="col-sm-8">
                                <select id="goodsid" name="goodsid" style="width: 200px"
                                        onchange="goodsidstr(this.options[this.options.selectedIndex].value)"></select>
                            </div>
                        </div>
                        <!--<div class="form-group" id="tab1" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">镜架材质：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="materialid" name="materialid" style="width: 200px">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${materialDOList}"-->
                                            <!--th:text="${ls.materialname}"-->
                                            <!--th:value="${ls.materialid}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab2" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">材料分类：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="lensId" name="lensId" style="width: 200px">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${lensDOList}"-->
                                            <!--th:text="${ls.lensName}"-->
                                            <!--th:value="${ls.lensId}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab3" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">光度分类：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="lightId" name="lightId" style="width: 200px"-->
                                        <!--onchange="lightIdstr(this.options[this.options.selectedIndex].value)">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${lightDOList}"-->
                                            <!--th:text="${ls.lightName}"-->
                                            <!--th:value="${ls.lightId}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab6" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">渐进片分类：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="gradualId" name="gradualId" style="width: 200px">-->
                                    <!--<option th:each="ls:${gradualDOList}"-->
                                            <!--th:text="${ls.gradualName}"-->
                                            <!--th:value="${ls.gradualId}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab4" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">折射率值：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="refractivityid" name="refractivityid" style="width: 200px">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${refractivityDOList}"-->
                                            <!--th:text="${ls.refractivityvalue}"-->
                                            <!--th:value="${ls.refractivityid}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab5" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">镜片功能：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="functionId" name="functionId" style="width: 200px">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${functionDOList}"-->
                                            <!--th:text="${ls.functionName}"-->
                                            <!--th:value="${ls.functionId}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab7" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">使用类型：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="usageId" name="usageId" style="width: 200px">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${usageDOList}"-->
                                            <!--th:text="${ls.usageName}"-->
                                            <!--th:value="${ls.usageId}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab8" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">抛弃型分类：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="typeId" name="typeId" style="width: 200px">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${typeDOList}"-->
                                            <!--th:text="${ls.typeName}"-->
                                            <!--th:value="${ls.typeId}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                            <!--</div>-->
                        <!--</div>-->
                        <!--<div class="form-group" id="tab9" style="display: none">-->
                            <!--<label class="col-sm-3 control-label">注册证号：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<input id="registration" name="registration" type="text">-->
                            <!--</div>-->
                        <!--</div>-->

                        <div class="form-group">
                            <label class="col-sm-3 control-label">产地：</label>
                            <div class="col-sm-8">
                                <input id="address" name="address" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">计量单位：</label>
                            <div class="col-sm-8">
                                <select id="unitid" name="unitid" style="width: 200px">
                                    <option><option value="">--请选择--</option>
                                    <option th:each="ls:${unitDOList}"
                                            th:text="${ls.unitname}"
                                            th:value="${ls.unitid}"
                                    ></option>
                                </select>
                            </div>
                        </div>

                        <!--<div class="form-group">-->
                            <!--<label class="col-sm-3 control-label">采购结算方式：</label>-->
                            <!--<div class="col-sm-8">-->
                                <!--<select id="payid" name="payid" onchange="payChange()">-->
                                    <!--<option></option>-->
                                    <!--<option th:each="ls:${payDOList}"-->
                                            <!--th:text="${ls.paymethod}"-->
                                            <!--th:value="${ls.payid}"-->
                                    <!--&gt;</option>-->
                                <!--</select>-->
                                <!--<input id="payday" name="payday" type="text" hidden placeholder="请输入天数"-->
                                       <!--style="width: 95px"-->
                                       <!--oninput="value=value.replace(/[^\d]/g,'')">-->
                            <!--</div>-->
                        <!--</div>-->
                        <div class="form-group">
                            <label class="col-sm-3 control-label">批号管理：</label>
                            <div class="col-sm-8">
                                <label class="radio-inline"> <input type="radio"
                                                                    name="batchid" value="1"/> 是
                                </label>
                                <label class="radio-inline"> <input type="radio"
                                                                    name="batchid" value="2" checked/> 否
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">厂家型号：</label>
                            <div class="col-sm-8">
                                <input id="factory" name="factory" type="text">
                                <span style="color: red">品牌型号为默认商品型号</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">促销金额：</label>
                            <div class="col-sm-8">
                                <input id="money" name="money" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">速记码：</label>
                            <div class="col-sm-8">
                                <input id="shorthandcode" name="shorthandcode" type="text">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-3 control-label">生产企业许可证号：</label>
                            <div class="col-sm-8">
                                <input id="productionkey" name="productionkey" type="text">
                            </div>
                        </div>
                        <!--启用状态-->
                        <div class="form-group">
                            <label class="col-sm-3 control-label">启用状态：</label>
                            <div class="col-sm-8">
                                <label class="radio-inline"> <input type="radio"
                                                                    name="xsstate" value="1"/> 禁用
                                </label>
                                <label class="radio-inline"> <input type="radio"
                                                                    name="xsstate" value="0" checked/> 启用
                                </label>
                                <span style="color: red">*</span>
                            </div>
                        </div>
                        <!--未删除-->
                        <input id="state" name="state" value="1" type="hidden">
                        <div class="form-group">
                            <div class="col-sm-8 col-sm-offset-3">
                                <button type="button" class="btn btn-primary" onclick="baocun()">提交</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<div th:include="include::footer"></div>
<script type="text/javascript" src="/js/appjs/mfrs/brand/findmfrs.js"></script>
<script type="text/javascript" src="/js/appjs/mfrs/brand/add.js"></script>
<script type="text/javascript">
    function caidan(value) {
        // tab1 .style = "display: none";
        // tab2.style = "display: none";
        // tab3.style = "display: none";
        // tab4.style = "display: none";
        // tab5.style = "display: none";
        // tab6.style = "display: none";
        // tab7.style = "display: none";
        // tab8.style = "display: none";
        // tab9.style = "display: none";
        $("#goodsid").empty("");
        $("#goodsid").append("<option value=''></option>");
        $.ajax({
            url: "/mfrs/brand/caidan",
            type: "post",
            data: {
                'mfrsid': value
            },
            dataType: 'JSON',
            async: false,
            success: function (datajson) {
                $(datajson).each(function (key) {  //循环读取后台传来的Json数据
                    var id = datajson[key].goodsid;   //角色id
                    var roleName = datajson[key].goodsname; //角色名称
                    //调用自定义方法
                    //AppendNode(id, roleName);   //将value和text添加到下拉框中
                    $("#goodsid").append("<option value='" + id + "'>" + roleName + "</option>");
                    //2配件7老花镜8视光9耗材
                });
            }
        });
    }
    //
    // function goodsidstr(value) {
    //     if (value == '1') {
    //         tab1.style = "display: block";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else if (value == '2') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else if (value == '3') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: block";
    //         tab3.style = "display: block";
    //         tab4.style = "display: block";
    //         tab5.style = "display: block";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else if (value == '4') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: block";
    //         tab8.style = "display: block";
    //         tab9.style = "display: block";
    //     } else if (value == '5') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: block";
    //     } else if (value == '6') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else if (value == '7') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else if (value == '8') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else if (value == '9') {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     } else {
    //         tab1.style = "display: none";
    //         tab2.style = "display: none";
    //         tab3.style = "display: none";
    //         tab4.style = "display: none";
    //         tab5.style = "display: none";
    //         tab6.style = "display: none";
    //         tab7.style = "display: none";
    //         tab8.style = "display: none";
    //         tab9.style = "display: none";
    //     }
    // }

    function lightIdstr(value) {
        if (value == '1') {
            tab6.style = "display: none";
        } else if (value == '2') {
            tab6.style = "display: none";
        } else if (value == '3') {
            tab6.style = "display: none";
        } else if (value == '4') {
            tab6.style = "display: none";
        } else if (value == '5') {
            tab6.style = "display: block";
        }

    }

    function payChange() {
        var payVal = $("#payid").find("option:selected").text();
        if (payVal == "现金") {
            document.getElementById("payday").hidden = true;
        } else if (payVal == "数期") {
            document.getElementById("payday").hidden = false;
        } else if (payVal == "代销月结") {
            document.getElementById("payday").hidden = true;
        } else if (payVal == "信用额周转") {
            document.getElementById("payday").hidden = true;
        } else if (payVal == "--请选择--") {
            document.getElementById("payday").hidden = true;
        }
    }


    function  baocun() {
        var numlength=$("#brandnum").val().length;
        var brandnum = document.getElementById('brandnum').value;
        var brandname = document.getElementById('brandname').value;
        var mfrsid = document.getElementById('mfrsid').value;
        var goodsid = document.getElementById('goodsid').value;
        if (numlength!=2) {
            layer.alert("品牌代码不能超过2位！");
        } else if (brandnum == "") {
            layer.alert("请输入品牌代码！");
        } else if (brandnum != "" && brandname == "") {
            layer.alert("请输入品牌名称！")
        } else if (brandnum != "" && brandname != "" && mfrsid == "") {
            layer.alert("请选择制造商简称！");
        } else if (brandnum != "" && brandname != "" && mfrsid != "" && goodsid =="") {
            layer.alert("请选择商品品种")
        }else if (brandnum != "" && brandname != "" && mfrsid != "" && goodsid !="") {
            save();
        }
    }
</script>


</body>
</html>
